<lnstrecipe>
    <define>
        <alias name="ipv"    value="both" />
        <alias name="iperf"  value="yes" />
        <alias name="net"    value="1.1.5"/>
        <alias name="net6"   value="fc00:0:0:0"/>
    </define>
    <network>
        <host id="host1">
            <params>
                <param name="machine_type" value="baremetal"/>
                <param name="order" value="1"/>
            </params>
            <interfaces>
                <eth id="ens1f0" label="A">
                    <addresses>
                        <address>{$net}.5/24</address>
                        <address>{$net6}::5/64</address>
                    </addresses>
                </eth>
	    </interfaces>
	</host>
        <host id="guest1">
            <params>
                <param name="machine_type" value="guest"/>
                <param name="ovs_support" value="true"/>
            </params>
            <interfaces>
                <eth id="ens6" label="ecpf"/>
                <eth id="rep-0" label="host-pf-rep"/>
                <ovs_bridge id="armBridge">
                    <slaves>
                        <slave id="ens6" />
                        <slave id="rep-0" />
                    </slaves>
                </ovs_bridge>
            </interfaces>
        </host>
        <host id="host2">
            <params>
                <param name="machine_type" value="baremetal"/>
            </params>
            <interfaces>
                <eth id="ens1f0" label="A">
                    <addresses>
                        <address>{$net}.6/24</address>
                        <address>{$net6}::6/64</address>
                    </addresses>
                </eth>
            </interfaces>
        </host>
    </network>

    <task python="bm.py" />
</lnstrecipe>
